TODO:
- Optimize message port encoding
- Test using sqlite test app
- Try to reduce the service worker size (about 317Kb now)